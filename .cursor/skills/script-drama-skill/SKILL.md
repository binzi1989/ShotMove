---
name: script-drama-skill
description: Parses script or storyboard text and produces short-drama storyboards or video-generation prompts. Use when the user provides a script, dialogue, or drama plot, or asks to create short drama or story-based short video.
---

# 短剧创作 Skill（短剧 / 剧情短视频管线）

理解用户提供的剧本/分镜/对白，输出结构化分镜或可直接喂给短剧/文生视频 API 的 Prompt 与参数；可选对接参考生视频/文生视频 API 产出成片。

## 何时触发

- 已由 **input-router-skill** 判定为剧本/短剧
- 或用户明确说「根据这个剧本做短剧」「把这段改成短剧分镜」并附带剧本或长文本

## 步骤

### Step 1：理解剧本结构

- 识别：场景、角色、对白、动作/情绪描述、时间与空间切换
- 若有现成分镜或镜头标注，保留并规整为统一结构
- 若仅有对白或剧情梗概，可先补全为「场景 + 角色 + 对白/动作」的场次列表

### Step 2：生成或规整分镜

- 每条分镜包含：**镜头序号、景别（可选）、画面描述、对白/旁白、时长建议（秒）**
- **画面描述**需满足后续 API 要求：
  - 文生视频：主体 + 场景 + 运动/状态，简洁可执行（参考通义万相 Prompt 指南）
  - 参考生视频（角色一致）：需标明角色与参考图/参考视频的对应关系（如 character1、character2）
- 多镜头时注明镜头之间的衔接（如「切」「叠」），便于 API 多镜头叙事（如 wan2.6 多镜头）

### Step 3：输出 API 可用的结构化数据（可选）

若对接 **MiniMax 视频**（推荐）：

- 使用 **minimax-video-skill**：根据分镜自动选择文生视频(T2V)/图生视频(I2V)/智能多帧，在 MiniMax 生成视频并返回下载链接；见 `.cursor/skills/minimax-video-skill/SKILL.md`。

若对接**通义万相**等：

- **文生视频**：按镜头顺序，每条镜头一个 Prompt + 时长；异步创建任务后轮询 task_id
- **参考生视频**：为同一角色绑定同一参考图/视频，Prompt 中引用 character1/character2；shot_type=multi 可生成多镜头
- **API Key**：使用 `DASHSCOPE_API_KEY`，见 `可接入API清单表.md`

若对接**短剧一站式**（如阿里云短剧漫剧场景）：

- 按该产品文档要求，将分镜转为指定格式（如 JSON 或接口约定结构），再调用其「剧本→成片」类 API

### Step 4：可选 — 配音/旁白脚本

- 若 API 支持「自动配音」或「传入文案生成人声」，可为每条分镜或整段剧本生成旁白/对白文案，一并传入

## 输出格式

- **必选**：分镜表（序号 | 景别 | 画面描述 | 对白/旁白 | 时长）
- **可选**：按镜头拆分的 Prompt 列表（可直接用于文生视频/参考生视频）
- **可选**：视频任务 ID 或成片（若已对接视频/短剧 API）

## 配置占位（接入时填写）

| 用途           | 变量名建议          | 说明                                  |
|----------------|---------------------|---------------------------------------|
| **MiniMax 视频** | `MINIMAX_API_KEY`   | 文生视频/图生视频/智能多帧，见 minimax-video-skill |
| 文生视频       | `DASHSCOPE_API_KEY` | 通义万相 文生视频，见可接入API清单表  |
| 参考生视频     | 同上                | 通义万相 参考生视频，角色一致、多镜头 |
| 短剧一站式     | 按产品文档          | 阿里云短剧漫剧等「剧本→成片」API      |

密钥与文档链接均以 `可接入API清单表.md` 为准；具体模型名（如 wan2.6-t2v、wan2.6-r2v）以阿里云最新文档为准。

## Examples

- **输入**：多场对白剧本「场景：办公室。A：这个方案不行。B：再给我一次机会。」→ **输出**：分镜表（序号 | 景别 | 画面描述 | 对白 | 时长）+ 可选按镜头拆分的文生视频 Prompt 列表。
- **输入**：已有分镜稿，用户要求「保持角色一致」→ **输出**：规整后的分镜 + 标注 character1/character2 的参考生视频用 Prompt，便于调用 wan2.6-r2v 等多镜头 API。

## Guidelines

- 画面描述必须简洁可执行：主体 + 场景 + 运动/状态，符合通义万相等文生视频 Prompt 指南；避免冗长或抽象描述。
- 多镜头时注明衔接方式（切/叠），同一角色在不同镜头中需使用同一参考图/视频 ID 或 character 标识，以保证角色一致。
- 所有 API Key 从环境变量或配置读取，见 `可接入API清单表.md`；模型名与接口以各平台最新文档为准。
